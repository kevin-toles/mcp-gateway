# mcp-gateway tool registry configuration
# Defines all platform tools with metadata for MCP protocol registration.
# ai-agents A2A tools bridge MCP → A2A → Temporal for durable agent execution.
# Reference: Strategy §4.1, §6.3 (Dynamic Tool Listing), AC-8.4
tools:
  - name: semantic_search
    description: "Search across code, documentation, and textbooks using semantic similarity"
    tier: bronze
    tags: [search, rag]

  - name: hybrid_search
    description: "Combines semantic search with keyword matching for better precision"
    tier: bronze
    tags: [search, rag]

  - name: code_analyze
    description: "Analyze code for patterns, complexity, dependencies, and quality metrics"
    tier: silver
    tags: [code, analysis]

  - name: code_pattern_audit
    description: "Detect code anti-patterns using dual-net detection with confidence scoring"
    tier: silver
    tags: [code, audit]

  - name: graph_query
    description: "Query the Neo4j knowledge graph using Cypher (read-only)"
    tier: gold
    tags: [graph, query]

  - name: llm_complete
    description: "Generate LLM completion with tiered fallback (local → cloud)"
    tier: gold
    tags: [llm, completion]

  # ── A2A Protocol Tools (MCP ↔ A2A ↔ Temporal bridge) ──────────────

  - name: a2a_send_message
    description: "Send a message to an AI agent via A2A protocol. Creates a durable task routed through Temporal workflows when available."
    tier: gold
    tags: [a2a, agent, temporal]

  - name: a2a_get_task
    description: "Get the status and results of an A2A agent task by its ID"
    tier: bronze
    tags: [a2a, agent, status]

  - name: a2a_cancel_task
    description: "Cancel a running A2A agent task by its ID"
    tier: silver
    tags: [a2a, agent, cancel]

  # ── Workflow tools (WBS-WF6) ──────────────────────────────────────
  - name: convert_pdf
    description: "Convert a PDF file to structured JSON. Extracts text per page with optional OCR fallback and detects chapters. Requires code-orchestrator (:8083)."
    tier: gold
    tags: [workflow, pdf, conversion]

  - name: extract_book_metadata
    description: "Extract metadata, keywords, concepts, and code blocks from a book JSON file. Requires code-orchestrator (:8083)."
    tier: gold
    tags: [workflow, extraction, metadata]

  - name: batch_extract_metadata
    description: "Extract metadata from all books in a directory with live progress reporting. Processes each book sequentially through CO, reporting book-by-book progress. Requires code-orchestrator (:8083)."
    tier: gold
    tags: [workflow, extraction, metadata, batch]

  - name: generate_taxonomy
    description: "Generate a concept taxonomy from tier-organized book JSON files. Requires code-orchestrator (:8083)."
    tier: gold
    tags: [workflow, taxonomy, concepts]

  - name: enrich_book_metadata
    description: "Enrich book metadata with MSEP (multi-source enrichment pipeline). Requires ai-agents (:8082)."
    tier: gold
    tags: [workflow, enrichment, msep]

  - name: enhance_guideline
    description: "Enhance a guideline's chapters via LLM with cross-book context. Requires ai-agents (:8082)."
    tier: gold
    tags: [workflow, enhancement, llm]

  # ── Taxonomy Analysis (WBS-TAP9) ─────────────────────────────────────
  - name: analyze_taxonomy_coverage
    description: "Analyze taxonomy coverage against the knowledge base. Runs full INGEST→GENERATE→SEARCH→SCORE→REPORT pipeline. Requires code-orchestrator (:8083)."
    tier: gold
    tags: [workflow, taxonomy, analysis, coverage]
